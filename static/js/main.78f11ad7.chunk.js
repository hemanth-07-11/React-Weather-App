(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{19:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c(5),a=c.n(n),r=(c(19),c(3));var i=c(6),j=c.n(i),l=c(8),d=c(10),o=c(4),b=c(1);function u(e){var t=e.changeCity,c=void 0===t?function(e){return e}:t,n="fc95fee6abf2436a8a5d11fd9767db0d",a=function(e){var t=Object(s.useState)(e),c=Object(r.a)(t,2),n=c[0],a=c[1];return[{value:n,onChange:function(e){return a(e.target.value)}},function(){return a(e)}]}(""),i=Object(r.a)(a,2),u=i[0],h=(i[1],Object(s.useState)("")),O=Object(r.a)(h,2),x=O[0],m=O[1];function p(){return(p=Object(d.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f();case 3:(s=e.sent)?(c(Object(l.a)({name:u.value},s)),m("")):(m("Invalid city"),console.log("invalid city"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return v.apply(this,arguments)}function v(){return(v=Object(d.a)(j.a.mark((function e(){var t,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(u.value,"&key=").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(c=e.sent).results[0]){e.next=11;break}return e.next=9,c.results[0].geometry;case 9:return s=e.sent,e.abrupt("return",s);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"pt-4",children:[Object(b.jsxs)("form",{className:"search-form",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(b.jsx)("input",Object(l.a)(Object(l.a)({},u),{},{type:"text",placeholder:"City"})),Object(b.jsx)("button",{type:"submit",children:Object(b.jsx)(o.a,{})})]}),Object(b.jsx)("span",{className:"text-warning",children:x})]})}c(22);function h(e){var t=e.iconName,c=e.size,s=void 0===c?1:c,n=e.style,a="owi owi-".concat(t," owi-").concat(s,"x ");return Object(b.jsx)("i",{className:a,style:n})}function O(e){var t=e.city,c=e.data,s=c.temp,n=c.weather,a=c.dt,r=n[0],i=r.icon,j=r.main,l=new Date(1e3*a),d=l.getHours()+":"+l.getMinutes();return Object(b.jsx)("div",{className:"glass-container col-sm-8",children:Object(b.jsx)("div",{className:"current-weather",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-12",children:[Object(b.jsxs)("h5",{className:"font-weight-bold",children:[t," Weather"]}),Object(b.jsxs)("span",{class:"time",children:["As of ",d]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-8",children:Object(b.jsxs)("h1",{class:"font-weight-bold",children:[s,"\xb0C"]})}),Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)(h,{iconName:i,size:5})})]}),Object(b.jsx)("p",{class:"font-weight-bold",children:j})]})})})})}var x=c(7),m=c(11),p=c(13);function f(e){var t=e.data,c=e.hide,s=void 0===c?function(e){return e}:c;if(!t)return null;var n=t.weather[0].icon,a=parseInt(100*t.pop);return Object(b.jsx)("div",{className:"weather-detail glass-container",children:Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-md-",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{className:"font-weight-bold",children:" Selected "}),"| Day"]}),Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-auto pl-0 pr-3",children:Object(b.jsxs)("h1",{className:"font-weight-bold",children:[t.temp.day,"\xb0"]})}),Object(b.jsx)("div",{className:"col-auto p-0",children:Object(b.jsx)(h,{iconName:n,size:5})}),Object(b.jsxs)("div",{className:"col-auto pl-3",children:[Object(b.jsxs)("p",{children:[Object(b.jsx)(x.a,{className:"icon",size:25}),a,"%"]}),Object(b.jsxs)("p",{className:"pl-1",children:[Object(b.jsx)(o.d,{size:25})," ",t.wind_speed]})]})]}),Object(b.jsx)("div",{className:"table-responsive mt-3 mb-3",children:Object(b.jsx)("table",{class:"table",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)(m.b,{})," Humidity"]}),Object(b.jsxs)("td",{children:[t.humidity,"%"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)(m.a,{})," Pressure"]}),Object(b.jsxs)("td",{children:[t.pressure," mb"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)(o.d,{})," Wind"]}),Object(b.jsxs)("td",{children:[Object(b.jsx)(p.a,{style:{transform:"rotate(".concat(t.wind_deg,"deg)")}}),t.wind_speed," km/h"]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)(o.b,{})," UV Index"]}),Object(b.jsx)("td",{children:t.uvi})]})]})})}),Object(b.jsx)("div",{className:"mb-3 d-flex justify-content-center align-items-center",children:Object(b.jsx)("button",{className:"btn",onClick:s,children:Object(b.jsx)(o.c,{size:25})})})]})})})}var v=c(29);c(23);function N(e){var t=e.data,c=Object(s.useReducer)((function(e){return!e}),!1),n=Object(r.a)(c,2),a=n[0],i=n[1],j=Object(s.useState)(),l=Object(r.a)(j,2),d=l[0],o=l[1],u=function(e,t){var c=e.weather[0].icon,s=new Date(1e3*e.dt).toString().split(" ")[0],n=e.temp.max,r=e.temp.min,j=e.pop?parseInt(100*e.pop):0;return Object(b.jsxs)("div",{className:"forecast col p-2 text-center",onClick:function(){return function(e){o(e),a||i()}(e)},children:[Object(b.jsx)("p",{className:"day",children:s}),Object(b.jsxs)("p",{className:"max-temp m-0 font-weight-bold",children:[n,"\xb0C"]}),Object(b.jsxs)("p",{className:"min-temp font-weight-bold small",children:[r,"\xb0C"]}),Object(b.jsx)(h,{iconName:c,size:3}),Object(b.jsxs)("p",{className:"rain",children:[Object(b.jsx)(x.a,{}),Object(b.jsxs)("span",{className:"small",children:[j,"%"]})]})]},t)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"glass-container weather-forecast",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-sm-12",children:Object(b.jsxs)("div",{className:" p-4",children:[Object(b.jsx)("h5",{className:"font-weight-bold mb-4",children:"Daily Forecast"}),Object(b.jsx)("div",{className:"row bg-panel",children:t.map((function(e,t){return u(e,t)}))})]})})})}),Object(b.jsx)(v.a,{in:a,timeout:500,classNames:"node",unmountOnExit:!0,children:Object(b.jsx)(f,{data:d,hide:i})})]})}c(26);var g=function(){var e=Object(s.useState)({name:"Chennai",lat:13.0827,lng:80.2707}),t=Object(r.a)(e,2),c=t[0],n=t[1],a=function(e){var t=Object(s.useState)(),c=Object(r.a)(t,2),n=c[0],a=c[1],i=Object(s.useState)(),j=Object(r.a)(i,2),l=j[0],d=j[1],o=Object(s.useState)(!0),b=Object(r.a)(o,2),u=b[0],h=b[1];return Object(s.useEffect)((function(){e&&fetch(e).then((function(e){return e.json()})).then(a).then((function(){return h(!1)})).catch(d)}),[e]),{loading:u,data:n,error:l}}("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c.lat,"&lon=").concat(c.lng,"&exclude=hourly,minutely&units=metric&appid=").concat("46f0c4db101bf29eed000013457f3888")),i=a.loading,j=a.data,l=a.error;return Object(b.jsxs)("div",{className:"container-sm",children:[Object(b.jsx)(u,{changeCity:n}),i?Object(b.jsx)("h1",{children:"Loading..."}):l?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"Error"}),Object(b.jsx)("p",{children:JSON.stringify(l,2,null)})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{city:c.name,data:j.current}),Object(b.jsx)(N,{data:j.daily.splice(3)})]})]})};a.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.78f11ad7.chunk.js.map